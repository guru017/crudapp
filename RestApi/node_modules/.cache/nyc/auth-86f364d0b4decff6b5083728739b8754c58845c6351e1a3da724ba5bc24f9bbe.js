function cov_2hzdfw4pou(){var path="/home/manjunathan/crudapp/RestApi/middleware/auth.js";var hash="01b9fc11c88cdd5420c3b90fac431a4fbb084a4b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/manjunathan/crudapp/RestApi/middleware/auth.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:5,column:4},end:{line:17,column:5}},"2":{start:{line:7,column:22},end:{line:7,column:61}},"3":{start:{line:8,column:29},end:{line:8,column:57}},"4":{start:{line:9,column:8},end:{line:9,column:36}},"5":{start:{line:10,column:8},end:{line:10,column:15}},"6":{start:{line:14,column:8},end:{line:16,column:10}},"7":{start:{line:21,column:0},end:{line:23,column:1}}},fnMap:{"0":{name:"checkAuth",decl:{start:{line:3,column:9},end:{line:3,column:18}},loc:{start:{line:3,column:32},end:{line:18,column:1}},line:3}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"01b9fc11c88cdd5420c3b90fac431a4fbb084a4b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2hzdfw4pou=function(){return actualCoverage;};}return actualCoverage;}cov_2hzdfw4pou();const jwt=(cov_2hzdfw4pou().s[0]++,require('jsonwebtoken'));function checkAuth(req,res,next){cov_2hzdfw4pou().f[0]++;cov_2hzdfw4pou().s[1]++;try{const token=(cov_2hzdfw4pou().s[2]++,req.headers.authorization.split(" ")[1]);const decodedToken=(cov_2hzdfw4pou().s[3]++,jwt.verify(token,"secret"));cov_2hzdfw4pou().s[4]++;req.userData=decodedToken;cov_2hzdfw4pou().s[5]++;next();}catch(e){cov_2hzdfw4pou().s[6]++;return res.status(401).json({message:"Authorisation Required!!!"});}}cov_2hzdfw4pou().s[7]++;module.exports={checkAuth:checkAuth};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsImNoZWNrQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3BsaXQiLCJkZWNvZGVkVG9rZW4iLCJ2ZXJpZnkiLCJ1c2VyRGF0YSIsImUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJvc0NBZVk7MkZBZlosS0FBTUEsQ0FBQUEsR0FBRywwQkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFULENBRUEsUUFBU0MsQ0FBQUEsU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUJDLEdBQXZCLENBQTJCQyxJQUEzQixDQUFnQyxpREFFNUIsR0FBRyxDQUVDLEtBQU1DLENBQUFBLEtBQUssMEJBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFILENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxZQUFZLDBCQUFHVixHQUFHLENBQUNXLE1BQUosQ0FBV0wsS0FBWCxDQUFtQixRQUFuQixDQUFILENBQWxCLENBSEQsd0JBSUNILEdBQUcsQ0FBQ1MsUUFBSixDQUFlRixZQUFmLENBSkQsd0JBS0NMLElBQUksR0FHUCxPQUFNUSxDQUFOLENBQVEseUJBQ0wsTUFBT1QsQ0FBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsQ0FDeEJDLE9BQU8sQ0FBSSwyQkFEYSxDQUFyQixDQUFQLENBR0gsQ0FDSixDLHdCQUdEQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDYmhCLFNBQVMsQ0FBR0EsU0FEQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuXG5mdW5jdGlvbiBjaGVja0F1dGgocmVxLHJlcyxuZXh0KXtcblxuICAgIHRyeXtcblxuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCIgXCIpWzFdO1xuICAgICAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSBqd3QudmVyaWZ5KHRva2VuICwgXCJzZWNyZXRcIik7XG4gICAgICAgIHJlcS51c2VyRGF0YSA9IGRlY29kZWRUb2tlbjtcbiAgICAgICAgbmV4dCgpO1xuXG5cbiAgICB9Y2F0Y2goZSl7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlICA6IFwiQXV0aG9yaXNhdGlvbiBSZXF1aXJlZCEhIVwiXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNoZWNrQXV0aCA6IGNoZWNrQXV0aFxufSJdfQ==